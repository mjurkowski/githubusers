(this.webpackJsonpGitHubUsers=this.webpackJsonpGitHubUsers||[]).push([[0],{25:function(e,t,a){e.exports=a(36)},27:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);a(26),a(27);var n=a(0),l=a.n(n),r=a(17),c=a.n(r),s=a(8),u=a(9),o=a(3),i=a(7),m=a(24),d=a(18),v=a(19),h=function(e){var t=e.user;return t?l.a.createElement("div",{className:"media mb-1"},l.a.createElement(i.a,{to:"/profile/".concat(t.login),className:"d-flex align-items-center"},l.a.createElement("img",{src:t.avatar,className:"mr-3",width:"50",height:"50",alt:"avatar"}),l.a.createElement("div",{className:"media-body"},l.a.createElement("h5",null,t.login)))):null},E=function(){return l.a.createElement("div",{className:"progress",style:{height:"20px"}},l.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"100%"}},"Loading..."))},f=function(e){var t=e.hasNextPage,a=e.users,n=e.isNextPageLoading,r=e.onLoadMore,c=t?a.length+1:a.length,s=n?function(){}:r,u=function(e){return!t||e<a.length},o=function(e){var t,n=e.index,r=e.style;return t=u(n)?l.a.createElement(h,{user:a[n]}):l.a.createElement(E,null),l.a.createElement("div",{style:r},t)};return l.a.createElement(d.a,null,(function(e){var t=e.height,a=e.width;return l.a.createElement(v.a,{isItemLoaded:u,itemCount:c,loadMoreItems:s},(function(e){var n=e.onItemsRendered,r=e.ref;return l.a.createElement(m.a,{itemCount:c,itemSize:54,onItemsRendered:n,ref:r,width:a,height:t},o)}))}))},g=a(2),b=Object(g.a)({basename:"/githubusers"}),p=[];function j(e){p.length>1?b.goBack():b.replace(e)}b.listen((function(e,t){switch(t){case"PUSH":p.push(e);break;case"REPLACE":p[p.length-1]=e;break;case"POP":p.pop();var a=p[p.length-1];a&&a.pathname===e.pathname||(p=[e])}}));var N=function(){return l.a.createElement("a",{href:"/",className:"nav-link",onClick:function(e){e.preventDefault(),j("/")}},"Back")},O=function(e){var t=e.rightBtn;return l.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},l.a.createElement(i.a,{className:"navbar-brand",to:"/"},l.a.createElement("strong",null,"GitHub")," Users"),l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"navbar-item"},t||l.a.createElement(N,null))))},x=function(e){var t=e.children,a=e.rightBtn;return l.a.createElement(l.a.Fragment,null,l.a.createElement(O,{rightBtn:a}),l.a.createElement("div",{className:"container pt-5 flex-fill"},t))},k=a(22),w=a(23);function y(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}"token ".concat("e76313797b3fb9f67d7bf21241097e1055077c37");var S=new Headers({}),L="https://api.github.com",P=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"searchUsers",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return fetch("".concat(L,"/search/users?").concat(y({q:e,page:t})),{headers:S}).then((function(e){return e.json()}))}},{key:"getUsers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return fetch("".concat(L,"/users?").concat(y({since:e})),{headers:S}).then((function(e){return e.json()}))}},{key:"getUser",value:function(e){return fetch("".concat(L,"/users/").concat(e),{headers:S}).then((function(e){return e.json()}))}}]),e}(),U=function(e){return{login:e.login,id:e.id,avatar:e.avatar_url,url:e.url}},B=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(o.a)(c,2),m=s[0],d=s[1];return l.a.createElement(x,{rightBtn:l.a.createElement(i.a,{className:"nav-link",to:"/search"},"Search")},l.a.createElement("div",{className:"layout-list-container"},l.a.createElement(f,{users:m,isNextPageLoading:a,hasNextPage:!0,onLoadMore:function(){r(!0);var e=m.length?m[m.length-1].id:0;P.getUsers(e).then((function(e){d([].concat(Object(u.a)(m),Object(u.a)(e.map(U)))),r(!1)}))}})))};var R=function(){var e=Object(s.g)().login,t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(n.useState)(!1),l=Object(o.a)(a,2),r=l[0],c=l[1],s=Object(n.useState)(null),u=Object(o.a)(s,2),i=u[0],m=u[1],d=Object(n.useState)(null),v=Object(o.a)(d,2),h=v[0],E=v[1],f=function(){c(!0),m(null),E(null),e().then((function(e){c(!1),m(e)})).catch((function(e){c(!1),E(e)}))};return Object(n.useLayoutEffect)((function(){t&&f()}),[]),[f,r,i,h]}(Object(n.useCallback)((function(){return e&&P.getUser(e)}),[e]),!0),a=Object(o.a)(t,3),r=a[1],c=a[2];return r?l.a.createElement(x,null,"Loading..."):l.a.createElement(x,null,l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-8 col-lg-6"},l.a.createElement("div",{className:"well profile"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-sm-8"},l.a.createElement("h2",null,null===c||void 0===c?void 0:c.name),l.a.createElement("p",null,l.a.createElement("small",null,null===c||void 0===c?void 0:c.login," | ",null===c||void 0===c?void 0:c.email)),l.a.createElement("p",null,l.a.createElement("strong",null,"Bio: ")," ",null===c||void 0===c?void 0:c.bio)),l.a.createElement("div",{className:"col-xs-12 col-sm-4 text-center"},l.a.createElement("figure",null,l.a.createElement("img",{src:null===c||void 0===c?void 0:c.avatar_url,alt:"",className:"img-thumbnail img-responsive"})))),l.a.createElement("div",{className:"row divider text-center"},l.a.createElement("div",{className:"col-xs-12 col-sm-3 emphasis"},l.a.createElement("h2",null,l.a.createElement("strong",null,null===c||void 0===c?void 0:c.followers)),l.a.createElement("p",null,l.a.createElement("small",null,"Followers"))),l.a.createElement("div",{className:"col-xs-12 col-sm-3 emphasis"},l.a.createElement("h2",null,l.a.createElement("strong",null,null===c||void 0===c?void 0:c.following)),l.a.createElement("p",null,l.a.createElement("small",null,"Following"))),l.a.createElement("div",{className:"col-xs-12 col-sm-3 emphasis"},l.a.createElement("h2",null,l.a.createElement("strong",null,null===c||void 0===c?void 0:c.public_repos)),l.a.createElement("p",null,l.a.createElement("small",null,"Repositories"))),l.a.createElement("div",{className:"col-xs-12 col-sm-3 emphasis"},l.a.createElement("h2",null,l.a.createElement("strong",null,null===c||void 0===c?void 0:c.public_gists)),l.a.createElement("p",null,l.a.createElement("small",null,"Gists"))))))))},C=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)(0),s=Object(n.useRef)(null),i=Object(n.useRef)(!!a),m=Object(n.useState)(!1),d=Object(o.a)(m,2),v=d[0],h=d[1],E=Object(n.useState)([]),g=Object(o.a)(E,2),b=g[0],p=g[1];return l.a.createElement(x,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",value:a,onChange:function(e){r(e.target.value),i.current=""!==a,c.current=0,s.current&&clearTimeout(s.current),s.current=setTimeout((function(){p([])}),500)},placeholder:"Search user"}),l.a.createElement("small",{className:"form-text text-muted"},"You can use nick name or full name")),l.a.createElement("div",{className:"layout-list-container"},a&&l.a.createElement(f,{users:b,isNextPageLoading:v,hasNextPage:i.current,onLoadMore:function(){a&&(h(!0),c.current=c.current+1,P.searchUsers(a,50,c.current).then((function(e){i.current=50*c.current<e.total_count,p([].concat(Object(u.a)(b),Object(u.a)(e.items.map(U)))),h(!1)})).catch((function(){return h(!1)})))}})))},H=function(){return l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/search",component:C}),l.a.createElement(s.b,{path:"/profile/:login",component:R}),l.a.createElement(s.b,{path:"/",exact:!0},l.a.createElement(B,null)),l.a.createElement(s.b,null,l.a.createElement(s.a,{to:{pathname:"/"}})))};var I=function(){return l.a.createElement(s.c,{history:b},l.a.createElement(H,null))};c.a.render(l.a.createElement(I,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.c10ecd28.chunk.js.map